var module_1635286705=void(()=>{"use strict";document.querySelectorAll(".search-module").forEach((e=>{var t=function(t){var r,s,h="",p=t,v=t.querySelector(".hs-search-field__input"),m=t.querySelector(".hs-search-field__suggestions"),y=e.closest(".dnd-row"),g=function(){m.innerHTML="",v.focus(),p.classList.remove("hs-search-field--open"),y.classList.remove("search-zindex")},L=function(){var e=[];e.push(v);for(var t=m.getElementsByTagName("A"),r=0;r<t.length;r++)e.push(t[r]);var n=e[0],o=e[e.length-1];p.addEventListener("keydown",(function(t){switch(t.key){case"Tab":!function(e){e.target!=o||e.shiftKey?e.target==n&&e.shiftKey&&(e.preventDefault(),o.focus()):(e.preventDefault(),n.focus())}(t);break;case"Esc":case"Escape":g();break;case"Up":case"ArrowUp":!function(t){t.preventDefault(),t.target==n?o.focus():e.forEach((function(r){r==t.target&&e[e.indexOf(r)-1].focus()}))}(t);break;case"Down":case"ArrowDown":!function(t){t.preventDefault(),t.target==o?n.focus():e.forEach((function(r){r==t.target&&e[e.indexOf(r)+1].focus()}))}(t)}}))},S=(r=function(){(h=v.value).length>2?function(){var e=new XMLHttpRequest,r="/_hcms/search?&term="+encodeURIComponent(h)+"&limit="+encodeURIComponent(10)+"&autocomplete=true&analytics=true&"+function(){for(var e=[],r=t.querySelector("form"),n=0;n<r.querySelectorAll("input[type=hidden]").length;n++){var o=r.querySelectorAll("input[type=hidden]")[n];"limit"!==o.name&&e.push(encodeURIComponent(o.name)+"="+encodeURIComponent(o.value))}return e.join("&")}();e.open("GET",r,!0),e.onload=function(){if(e.status>=200&&e.status<400){var t=JSON.parse(e.responseText);t.total>0?((n=[]).push("<li id='results-for'>Results for \""+(r=t).searchTerm+'"</li>'),r.results.forEach((function(e,t){n.push("<li id='result"+t+"'><a href='"+e.url+"'>"+e.title+"</a></li>")})),g(),m.innerHTML=n.join(""),p.classList.add("hs-search-field--open"),y.classList.add("search-zindex"),L()):(g(),y.classList.remove("search-zindex"))}else console.error("Server reached, error retrieving results.");var r,n},e.onerror=function(){console.error("Could not reach the server.")},e.send()}():0==h.length&&g()},function(){var e=this,t=arguments;clearTimeout(s),s=setTimeout((function(){s=null,r.apply(e,t)}),250)});v.addEventListener("input",(function(e){h!=v.value&&S()}))};if(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState){var r=e.querySelectorAll(".hs-search-field");Array.prototype.forEach.call(r,(function(e){t(e)}))}else document.addEventListener("DOMContentLoaded",(function(){var r=e.querySelectorAll(".hs-search-field");Array.prototype.forEach.call(r,(function(e){t(e)}))}));$(document).ready((function(){$("body").on("click",(function(){$(".hs-search-field").find(".hs-search-field__suggestions").children().remove(),$(".hs-search-field.hs-search-field--open").removeClass("hs-search-field--open"),$(".dnd-row.search-zindex").removeClass("search-zindex")})),$(".hs-search-field").on("click",(function(e){e.stopPropagation()}))}))}))})();